[{"/Users/mikhaillisus/Desktop/portfolio/freespeech2025/src/index.js":"1","/Users/mikhaillisus/Desktop/portfolio/freespeech2025/src/reportWebVitals.js":"2","/Users/mikhaillisus/Desktop/portfolio/freespeech2025/src/App.js":"3","/Users/mikhaillisus/Desktop/portfolio/freespeech2025/src/components/IntroPage/IntroPage.js":"4","/Users/mikhaillisus/Desktop/portfolio/freespeech2025/src/components/Auth/Auth.js":"5","/Users/mikhaillisus/Desktop/portfolio/freespeech2025/src/components/FuturePage/FuturePage.js":"6","/Users/mikhaillisus/Desktop/portfolio/freespeech2025/src/components/Form/Form.js":"7","/Users/mikhaillisus/Desktop/portfolio/freespeech2025/src/utils/firebase.js":"8","/Users/mikhaillisus/Desktop/portfolio/freespeech2025/src/components/PetitionForm/PetitionForm.js":"9","/Users/mikhaillisus/Desktop/portfolio/freespeech2025/src/components/Card/Card.js":"10"},{"size":593,"mtime":1607865513940,"results":"11","hashOfConfig":"12"},{"size":362,"mtime":1607736638167,"results":"13","hashOfConfig":"12"},{"size":1908,"mtime":1607891487923,"results":"14","hashOfConfig":"12"},{"size":487,"mtime":1607865513923,"results":"15","hashOfConfig":"12"},{"size":4836,"mtime":1607899436659,"results":"16","hashOfConfig":"12"},{"size":498,"mtime":1607928428231,"results":"17","hashOfConfig":"12"},{"size":3452,"mtime":1607891487923,"results":"18","hashOfConfig":"12"},{"size":681,"mtime":1607908207403,"results":"19","hashOfConfig":"12"},{"size":6457,"mtime":1607928482270,"results":"20","hashOfConfig":"12"},{"size":1781,"mtime":1607928428226,"results":"21","hashOfConfig":"12"},{"filePath":"22","messages":"23","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"24"},"frmg8t",{"filePath":"25","messages":"26","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"24"},{"filePath":"27","messages":"28","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"29","usedDeprecatedRules":"24"},{"filePath":"30","messages":"31","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"24"},{"filePath":"32","messages":"33","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"34","usedDeprecatedRules":"24"},{"filePath":"35","messages":"36","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"37","messages":"38","errorCount":0,"warningCount":7,"fixableErrorCount":0,"fixableWarningCount":0,"source":"39","usedDeprecatedRules":"24"},{"filePath":"40","messages":"41","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"24"},{"filePath":"42","messages":"43","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"44","messages":"45","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"46","usedDeprecatedRules":"24"},"/Users/mikhaillisus/Desktop/portfolio/freespeech2025/src/index.js",[],["47","48"],"/Users/mikhaillisus/Desktop/portfolio/freespeech2025/src/reportWebVitals.js",[],"/Users/mikhaillisus/Desktop/portfolio/freespeech2025/src/App.js",["49","50","51"],"import './App.css';\nimport React, {useState, useContext} from 'react';\nimport IntroPage from './components/IntroPage/IntroPage';\nimport FuturePage from './components/FuturePage/FuturePage';\nimport {useTransition, animated} from 'react-spring';\nimport {Switch, Route} from 'react-router-dom';\nimport {__RouterContext} from 'react-router';\nimport Auth from \"./components/Auth/Auth\";\nimport Form from \"./components/Form/Form\";\n\n// import manageJson from \"./utils/manageJson\"   /* util for loading json to firebase */\n\nfunction App() {\n    //     /* uncomment if needed to load json into firebase.database */\n// React.useEffect(() => {\n//     manageJson();\n// },[]);\n    \n    const {location} = useContext(__RouterContext);\n    const transitions = useTransition(location, location => location.pathname, {\n        from: {opacity: 0, transform: \"translate(100%, 0)\", display: \"none\"},\n        enter: {opacity: 1, transform: \"translate(0%, 0)\", display: \"flex \"},\n        leave: {opacity: 0, transform: \"translate(-50%, 0)\", display: \"none\"}\n    });\n    \n    return (\n        <div className=\"App\">\n            {transitions.map(({item, props, key}) => (\n                <animated.div key={key} style={props}>\n                    <Switch location={item}>\n                        {/* Вступительная страница с кнопкой \"Поехали\" */}\n                        <Route exact path=\"/\">\n                            <IntroPage/>\n                        </Route>\n                        \n                        {/* Страница 2025 года - пока там хедер и форма авторизации */}\n                        <Route exact path=\"/future\">\n                            <FuturePage/>\n                        </Route>\n                    </Switch>\n                </animated.div>\n            ))}\n            {/*<Form/>*/}\n        </div>\n    );\n}\n\nexport default App;","/Users/mikhaillisus/Desktop/portfolio/freespeech2025/src/components/IntroPage/IntroPage.js",[],"/Users/mikhaillisus/Desktop/portfolio/freespeech2025/src/components/Auth/Auth.js",["52"],"// здесь находится тестовый код для регистрации пользователя по линку в e-mail\nimport React, {useState, useEffect} from 'react';\nimport './auth.css'\nimport '../PetitionForm/petitionform.css'\nimport {auth} from '../../utils/firebase'\nimport PetitionForm from \"../PetitionForm/PetitionForm\";\n\n\nfunction Auth() {\n    \n    const [isSignUpClicked, setIsSignUpClicked] = useState(false)\n    const [isLogOutClicked, setIsLogOutClicked] = useState(false)\n    const [isLoggedIn, setIsLoggedIn] = useState(false)\n    const [currentUser, setCurrentUser] = useState('Unknown')\n    const [currentUserId, setCurrentUserId] = useState('')\n    \n    \n    const [values, setValues] = useState({email: ''})\n    \n    const actionCodeSettings = {\n        url: window.location.href,\n        handleCodeInApp: true\n    };\n    \n    // определяем юзер на сайте или нет\n    useEffect(() => {\n        auth.onAuthStateChanged(function (user) {\n            if (user) {\n                setIsLoggedIn(true)\n                setCurrentUser(user.email)\n                setCurrentUserId(user.uid)\n            } else {\n                setIsLoggedIn(false)\n                setCurrentUser('Unknown')\n            }\n        });\n    }, [isLoggedIn])\n    \n    // Confirm the link is a sign-in with email link.\n    useEffect(() => {\n        if (auth.isSignInWithEmailLink(window.location.href)) {\n            let email = window.localStorage.getItem('emailForSignIn');\n            if (!email) {\n                email = window.prompt('Please provide your email for confirmation');\n            }\n            // The client SDK will parse the code from the link for you.\n            if (email) {\n                auth.signInWithEmailLink(email, window.location.href).then(function (result) {\n                    window.location.href = \"https://freespeech2025.com/\"\n                    window.localStorage.removeItem('emailForSignIn');\n                }).catch(function (error) {\n                    console.log(error)\n                });\n            }\n        }\n    }, [])\n    \n    useEffect(() => {\n        if (isSignUpClicked) {\n            auth.sendSignInLinkToEmail(values.email, actionCodeSettings)\n                .then(function () {\n                    window.localStorage.setItem('emailForSignIn', values.email);\n                    console.log('The link was successfully sent')\n                })\n                .catch(function (error) {\n                    console.log(error);\n                });\n            setIsSignUpClicked(false)\n        }\n    }, [isSignUpClicked])\n    \n    useEffect(() => {\n        if (isLogOutClicked) {\n            auth.signOut().then(function () {\n                console.log('Sign-out successful');\n                setCurrentUserId('')\n            }).catch(function (error) {\n                console.log(error);\n            });\n            setIsLogOutClicked(false)\n        }\n    }, [isLogOutClicked])\n    \n    const handleChange = e => {\n        const {name, value} = e.target;\n        setValues({...values, [name]: value});\n    }\n    \n    function handleSignUp(e) {\n        e.preventDefault();\n        setIsSignUpClicked(true)\n    }\n    \n    function handleLogout(e) {\n        e.preventDefault();\n        setIsLogOutClicked(true)\n    }\n    \n    return (\n        <>\n            <div className=\"authForm\">\n                <form className=\"form form-sign-up\" name=\"form-signup\" noValidate>\n                    <h2 className=\"form__heading\">Sign UP With Email Link 11</h2>\n                    <h2 className=\"form__heading\">User: {currentUser}</h2>\n                    <fieldset className=\"form__fields\">\n                        <label className=\"form__field-input\">\n                            <input\n                                className=\"form__input form__input-first-field\"\n                                type=\"email\"\n                                id=\"first-field-place\"\n                                placeholder=\"e-mail\"\n                                name=\"email\"\n                                minLength=\"5\"\n                                maxLength=\"130\"\n                                required\n                                autoComplete=\"username\"\n                                onChange={handleChange}\n                            />\n                            <span className=\"form__field\"/>\n                        </label>\n                        <button type=\"submit\" className=\"form__submit-button\" onClick={handleSignUp}>Sign Up</button>\n                        <button type=\"submit\" className=\"form__submit-button\" onClick={handleLogout}>Log Out</button>\n                    </fieldset>\n                </form>\n            </div>\n            <PetitionForm currentUserId={currentUserId}/>\n        </>\n    )\n};\n\nexport default Auth\n\n\n","/Users/mikhaillisus/Desktop/portfolio/freespeech2025/src/components/FuturePage/FuturePage.js",[],"/Users/mikhaillisus/Desktop/portfolio/freespeech2025/src/components/Form/Form.js",["53","54","55","56","57","58","59"],"import React, {useState, useEffect} from 'react';\nimport './form.css'\nimport {db} from '../../utils/firebase'\n\nfunction Form() {\n\n    const [isSubmitClicked, setIsSubmitClicked] = React.useState(false)\n    const [values, setValues] = React.useState('')\n    const [complaintWord, setComplaintWord] = React.useState( '')\n    const [poemText, setPoemText] = React.useState( '')\n\n\n    useEffect(() => {\n        if (isSubmitClicked) {\n            // setComplaintWord(values)\n            console.log( determinateComplaintWord(values));\n            // determinateComplaintWord(values);\n            getPoemText( determinateComplaintWord(values));\n        }\n    }, [isSubmitClicked])\n\n    const determinateComplaintWord = (string) => {\n        const worddd = string.match(/[а-яА-ЯёЁ]*а\\s/gm);\n        if (!worddd) {\n            return \"жизни\"\n        }\n        console.log(worddd)\n        return worddd\n    }\n\n    const getPoemText = (word) => {\n        const poemsRef = db.collection(\"poems\");\n        const query = poemsRef.where(\"name\", \"array-contains\", word);\n        db.collection(\"poems\").where(\"name\", \"array-contains\", word)\n            .get()\n            .then(function(querySnapshot) {\n                querySnapshot.forEach(function(doc) {\n                    // doc.data() is never undefined for query doc snapshots\n                    // setPoemText(doc.data().text);\n                    const dataText = doc.data().text;\n                    setPoemText(doc.data().text.toString());\n                    console.log('const',dataText);\n                    setTimeout(function() {console.log('set', poemText);}, 2000)\n                    console.log('typeof', typeof dataText)\n                    console.log('typeof', typeof dataText)\n\n                });\n            })\n            .catch(function(error) {\n                console.log(\"Error getting documents: \", error);\n            }).finally (() =>  setTimeout(function() {console.log('set', poemText);}, 2000));\n    }\n\n    const handleChange = e => {\n        const {name, value} = e.target;\n        setValues(e.target.value);\n    }\n\n    function handleSubmit(e) {\n        e.preventDefault();\n        setIsSubmitClicked(true)\n    }\n\n    return (\n\n        <div className=\"form-complaint\">\n            <form className=\"form form_complaint\" name=\"form-complaint\" noValidate>\n                <h2 className=\"form__heading\">Ваша жалоба</h2>\n                <fieldset className=\"form__fields\">\n                    <label className=\"form__field-input\">\n                        <input\n                            className=\"form__input form__input-first-field\"\n                            type=\"textarea\"\n                            id=\"first-field-place\"\n                            placeholder=\"Опишите подробно что вас волнует\"\n                            name=\"complaint\"\n                            minLength=\"10\"\n                            maxLength=\"130\"\n                            required\n                            // autoComplete=\"username\"\n                            onChange={handleChange}\n                        />\n                        <span className=\"form__field\"/>\n                    </label>\n                     <button type=\"submit\" className=\"form__submit-button\" onClick={handleSubmit}>Submit</button>\n                </fieldset>\n            </form>\n            <p>{poemText}</p>\n        </div>\n    )\n}\n\nexport default Form\n","/Users/mikhaillisus/Desktop/portfolio/freespeech2025/src/utils/firebase.js",[],"/Users/mikhaillisus/Desktop/portfolio/freespeech2025/src/components/PetitionForm/PetitionForm.js",["60","61"],"/Users/mikhaillisus/Desktop/portfolio/freespeech2025/src/components/Card/Card.js",["62","63","64"],"import React, {useEffect, useState} from 'react';\nimport './card.css'\nimport {storage, db, auth} from '../../utils/firebase'\n\nfunction Card(props) {\n    \n    const [url, setUrl] = useState('')\n    const [petition, setPetition] = useState('')\n    const [firstTag, setFirstTag] = useState('')\n    const [secondTag, setSecondTag] = useState('')\n    const [petitionData, setPetitionData] = useState('')\n    const [path, setPath] = useState('')\n    \n    db.collection('petitions')\n        .orderBy(\"timestamp\", \"desc\")\n        .limit(1)\n        .get()\n        .then(petitions => {\n        petitions.forEach(doc => {\n            setPetition(doc.data().petition)\n            setFirstTag(doc.data().firstTag)\n            setSecondTag(doc.data().secondTag)\n            // TODO: перевести время из timestamp в реальное время + 5 лет\n            setPetitionData(doc.data().timestamp)\n            setPath(doc.data().picFullPath)\n        })\n        })\n        .catch(err=>console.log(err))\n    \n    \n    const storagePic = storage.ref(path);\n    \n    storagePic\n        .getDownloadURL()\n        .then(function(url) {\n            console.log(url);\n            // setUrl(url)\n        })\n        .catch(function(error) {\n            console.log(\"error encountered\");\n        });\n    \n    \n    return (\n        <div className=\"card\">\n            <p>Актуальная петиция</p>\n            <p>Текст петиции: {petition}</p>\n            <p>Первый тег: {firstTag}</p>\n            <p>Второй тег: {secondTag}</p>\n            <p>Время (пока условное): {petitionData}</p>\n            <img className=\"photo\" src={url} alt={'картинка'}/>\n        </div>\n)\n}\n\nexport default Card",{"ruleId":"65","replacedBy":"66"},{"ruleId":"67","replacedBy":"68"},{"ruleId":"69","severity":1,"message":"70","line":2,"column":16,"nodeType":"71","messageId":"72","endLine":2,"endColumn":24},{"ruleId":"69","severity":1,"message":"73","line":8,"column":8,"nodeType":"71","messageId":"72","endLine":8,"endColumn":12},{"ruleId":"69","severity":1,"message":"74","line":9,"column":8,"nodeType":"71","messageId":"72","endLine":9,"endColumn":12},{"ruleId":"75","severity":1,"message":"76","line":70,"column":8,"nodeType":"77","endLine":70,"endColumn":25,"suggestions":"78"},{"ruleId":"69","severity":1,"message":"70","line":1,"column":16,"nodeType":"71","messageId":"72","endLine":1,"endColumn":24},{"ruleId":"69","severity":1,"message":"79","line":9,"column":12,"nodeType":"71","messageId":"72","endLine":9,"endColumn":25},{"ruleId":"69","severity":1,"message":"80","line":9,"column":27,"nodeType":"71","messageId":"72","endLine":9,"endColumn":43},{"ruleId":"75","severity":1,"message":"81","line":20,"column":8,"nodeType":"77","endLine":20,"endColumn":25,"suggestions":"82"},{"ruleId":"69","severity":1,"message":"83","line":33,"column":15,"nodeType":"71","messageId":"72","endLine":33,"endColumn":20},{"ruleId":"69","severity":1,"message":"84","line":55,"column":16,"nodeType":"71","messageId":"72","endLine":55,"endColumn":20},{"ruleId":"69","severity":1,"message":"85","line":55,"column":22,"nodeType":"71","messageId":"72","endLine":55,"endColumn":27},{"ruleId":"75","severity":1,"message":"86","line":43,"column":8,"nodeType":"77","endLine":43,"endColumn":29,"suggestions":"87"},{"ruleId":"75","severity":1,"message":"88","line":59,"column":8,"nodeType":"77","endLine":59,"endColumn":25,"suggestions":"89"},{"ruleId":"69","severity":1,"message":"90","line":1,"column":16,"nodeType":"71","messageId":"72","endLine":1,"endColumn":25},{"ruleId":"69","severity":1,"message":"91","line":3,"column":22,"nodeType":"71","messageId":"72","endLine":3,"endColumn":26},{"ruleId":"69","severity":1,"message":"92","line":7,"column":17,"nodeType":"71","messageId":"72","endLine":7,"endColumn":23},"no-native-reassign",["93"],"no-negated-in-lhs",["94"],"no-unused-vars","'useState' is defined but never used.","Identifier","unusedVar","'Auth' is defined but never used.","'Form' is defined but never used.","react-hooks/exhaustive-deps","React Hook useEffect has missing dependencies: 'actionCodeSettings' and 'values.email'. Either include them or remove the dependency array.","ArrayExpression",["95"],"'complaintWord' is assigned a value but never used.","'setComplaintWord' is assigned a value but never used.","React Hook useEffect has missing dependencies: 'getPoemText' and 'values'. Either include them or remove the dependency array.",["96"],"'query' is assigned a value but never used.","'name' is assigned a value but never used.","'value' is assigned a value but never used.","React Hook useEffect has missing dependencies: 'picturesRef.bucket', 'picturesRef.fullPath', 'picturesRef.name', 'props.currentUserId', 'values.firstTag', 'values.petition', and 'values.secondTag'. Either include them or remove the dependency array.",["97"],"React Hook useEffect has missing dependencies: 'pictures' and 'props.currentUserId'. Either include them or remove the dependency array.",["98"],"'useEffect' is defined but never used.","'auth' is defined but never used.","'setUrl' is assigned a value but never used.","no-global-assign","no-unsafe-negation",{"desc":"99","fix":"100"},{"desc":"101","fix":"102"},{"desc":"103","fix":"104"},{"desc":"105","fix":"106"},"Update the dependencies array to be: [actionCodeSettings, isSignUpClicked, values.email]",{"range":"107","text":"108"},"Update the dependencies array to be: [getPoemText, isSubmitClicked, values]",{"range":"109","text":"110"},"Update the dependencies array to be: [isPetitionSubmitted, picturesRef.bucket, picturesRef.fullPath, picturesRef.name, props.currentUserId, values.firstTag, values.petition, values.secondTag]",{"range":"111","text":"112"},"Update the dependencies array to be: [isPicturesReady, pictures, props.currentUserId]",{"range":"113","text":"114"},[2513,2530],"[actionCodeSettings, isSignUpClicked, values.email]",[656,673],"[getPoemText, isSubmitClicked, values]",[1598,1619],"[isPetitionSubmitted, picturesRef.bucket, picturesRef.fullPath, picturesRef.name, props.currentUserId, values.firstTag, values.petition, values.secondTag]",[2469,2486],"[isPicturesReady, pictures, props.currentUserId]"]